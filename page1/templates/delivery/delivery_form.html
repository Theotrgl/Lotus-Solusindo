{% extends 'base.html' %}

<!DOCTYPE html>
<html>
  <head>
    <title>{% block title %}Event Form{% endblock %}</title>
    <style>
      #form-container .extra-form {
        display: none;
      }
    </style>
  </head>
  <body>
    {% block content %}
    <h2>Delivery Form</h2>
    <div class="form-group" style="width: 90%">
      <form method="post">
        {% csrf_token %}
        {{ forms.management_form }}
        {% for form in forms %}
        <div id="forms-container">
          <div
            id="form-section-1"
          >
          <div style="display: flex;"">
            <div class="mt-4 w-50 mr-3">
              <h5>Detail Pengantaran</h5>
              {{ form.title.label_tag }} {{ form.title }} 
              {{ form.start.label_tag }} {{ form.start }} 
              {{ form.end.label_tag }}{{ form.end }} 
              {{ form.start_location.label_tag }}{{form.start_location }} 
              {{ form.destination.label_tag }} {{  form.destination }}
            </div>

            <div class="mt-4 w-50 ml-3">
              <h5>Paket</h5>
              {{ form.package_name.label_tag }} {{ form.package_name }} 
              {{ form.package_dimensions.label_tag }} {{ form.package_dimensions }}
              {{ form.package_mass.label_tag }} {{ form.package_mass }}
            </div>
          </div>
          <div class="w-100">
              <br>
              <hr>
          </div>
          </div>
        </div>
        <div class="mt-4 w-50 mr-3">
          <h5>Kurir</h5>
          {{ form.messenger.label_tag }} {{ form.messenger }} 
          {{ form.vehicle.label_tag }} {{ form.vehicle }}
        </div>
        {% endfor %}
        <div>
          <button
            class="btn btn-info mt-3"
            id="tambah-tujuan-btn"
            type="button"
          >
            Tambah Tujuan
          </button>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Submit</button>
      </form>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          var formContainer = document.getElementById('form-container');
          var showHideButton = document.getElementById('tambah-tujuan-btn');
          
          showHideButton.addEventListener('click', function () {
              // Toggle the display property of the extra forms
              var extraForms = formContainer.querySelectorAll('.extra-form');
              extraForms.forEach(function (form) {
                  form.style.display = form.style.display === 'none' ? 'block' : 'none';
              });
          });
      });
  </script>
    {% endblock %}
  </body>
</html>
